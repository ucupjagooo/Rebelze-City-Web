<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pendaftaran Manji School - Rebel City RP</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #0f172a;
            color: #f8fafc;
        }

        .minecraft-btn {
            background-color: #3f6e2b;
            border-bottom: 4px solid #2d4f1f;
            transition: all 0.2s;
        }

        .minecraft-btn:hover {
            background-color: #4a8233;
            transform: translateY(-2px);
        }

        .minecraft-btn:active {
            border-bottom: 0px;
            transform: translateY(2px);
        }

        .glass-card {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .hero-bg {
            background: linear-gradient(rgba(15, 23, 42, 0.8), rgba(15, 23, 42, 0.8)), 
                        url('https://images.unsplash.com/photo-1587573089734-09cb69c0f2b4?q=80&w=2000&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
        }
    </style>
</head>
<body class="min-h-screen overflow-x-hidden">

    <!-- Navigation -->
    <nav class="fixed w-full z-50 glass-card px-6 py-4 flex justify-between items-center">
        <div class="flex items-center space-x-2">
            <i class="fas fa-city text-yellow-500 text-2xl"></i>
            <span class="font-bold text-xl tracking-wider">REBEL CITY <span class="text-yellow-500 text-sm">MANJI SCHOOL</span></span>
        </div>
        <div class="hidden md:flex space-x-8 font-medium">
            <a href="#home" class="hover:text-yellow-500 transition">Beranda</a>
            <a href="#major" class="hover:text-yellow-500 transition">Jurusan</a>
            <a href="#apply" class="hover:text-yellow-500 transition text-yellow-500">Daftar Sekarang</a>
        </div>
        <button class="md:hidden text-2xl">
            <i class="fas fa-bars"></i>
        </button>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero-bg h-screen flex flex-col justify-center items-center text-center px-4">
        <h1 class="text-5xl md:text-7xl font-bold mb-4 drop-shadow-lg text-white">Manji <span class="text-yellow-500">School.</span></h1>
        <p class="text-lg md:text-xl max-w-2xl mb-8 text-gray-300 font-semibold italic">"Choose your path, define your side."</p>
        <div class="flex space-x-4">
            <a href="#apply" class="minecraft-btn px-8 py-3 rounded-md font-bold text-white shadow-xl">DAFTAR SEKARANG</a>
            <a href="#major" class="bg-white/10 hover:bg-white/20 px-8 py-3 rounded-md font-bold transition">LIHAT JURUSAN</a>
        </div>
    </section>

    <!-- Major List Section -->
    <section id="major" class="py-20 px-6 max-w-6xl mx-auto">
        <div class="text-center mb-16">
            <h2 class="text-3xl md:text-4xl font-bold mb-4 uppercase tracking-widest">Pilih Jalur Hidupmu</h2>
            <p class="text-gray-400 italic">Dua sisi, satu sekolah. Tentukan ke mana karaktermu akan melangkah.</p>
            <div class="w-24 h-1 bg-yellow-500 mx-auto mt-4"></div>
        </div>

        <div class="grid md:grid-cols-2 gap-12 max-w-4xl mx-auto">
            <!-- Major 1: Goodside -->
            <div class="glass-card rounded-xl overflow-hidden hover:scale-105 transition duration-300 border-blue-500/30 border-2">
                <div class="h-48 bg-gradient-to-br from-blue-600 to-cyan-500 flex flex-col items-center justify-center">
                    <i class="fas fa-shield-alt text-6xl text-white mb-2"></i>
                    <span class="text-white font-bold text-2xl tracking-widest">GOODSIDE</span>
                </div>
                <div class="p-6">
                    <h3 class="text-xl font-bold mb-2 text-blue-400">Pahlawan Kota</h3>
                    <p class="text-gray-400 text-sm mb-4">Berfokus pada kedisiplinan, hukum, dan pengabdian masyarakat. Cocok bagi yang ingin menjadi pilar kebaikan di Rebel City.</p>
                    <ul class="text-sm space-y-2 text-gray-300">
                        <li><i class="fas fa-check text-blue-500 mr-2"></i> Pelatihan Etika & Hukum</li>
                        <li><i class="fas fa-check text-blue-500 mr-2"></i> Keahlian Medis & Penyelamatan</li>
                    </ul>
                </div>
            </div>

            <!-- Major 2: Badside -->
            <div class="glass-card rounded-xl overflow-hidden hover:scale-105 transition duration-300 border-red-500/30 border-2">
                <div class="h-48 bg-gradient-to-br from-red-600 to-black flex flex-col items-center justify-center">
                    <i class="fas fa-skull text-6xl text-white mb-2"></i>
                    <span class="text-white font-bold text-2xl tracking-widest">BADSIDE</span>
                </div>
                <div class="p-6">
                    <h3 class="text-xl font-bold mb-2 text-red-400">Penguasa Jalanan</h3>
                    <p class="text-gray-400 text-sm mb-4">Berfokus pada kekuatan, strategi, dan loyalitas kelompok. Bagi mereka yang tidak takut melanggar batas untuk mencapai tujuan.</p>
                    <ul class="text-sm space-y-2 text-gray-300">
                        <li><i class="fas fa-check text-red-500 mr-2"></i> Strategi Tempur & Taktik</li>
                        <li><i class="fas fa-check text-red-500 mr-2"></i> Keahlian Mekanik & Ilegal</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Application Form Section -->
    <section id="apply" class="py-20 bg-slate-900/50">
        <div class="max-w-4xl mx-auto px-6 pt-10">
            <div class="glass-card p-8 md:p-12 rounded-2xl shadow-2xl">
                <div class="text-center mb-10">
                    <h2 class="text-3xl font-bold text-yellow-500 uppercase tracking-tighter">Pendaftaran Manji School</h2>
                    <p class="text-gray-400 mt-2 italic">Data akan dikirim ke Discord & WhatsApp Admin.</p>
                </div>

                <form id="enrollmentForm" class="space-y-6">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium mb-2 text-gray-300">Nama Lengkap (IC)</label>
                            <input type="text" id="name" required placeholder="Nama Karakter" 
                                class="w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 focus:outline-none focus:border-yellow-500 transition text-white">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2 text-gray-300">ID Discord / OOC</label>
                            <input type="text" id="discord" required placeholder="User#0000" 
                                class="w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 focus:outline-none focus:border-yellow-500 transition text-white">
                        </div>
                    </div>

                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium mb-2 text-gray-300">Nomor WhatsApp Anda</label>
                            <input type="tel" id="whatsapp" required placeholder="08xxxx" 
                                class="w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 focus:outline-none focus:border-yellow-500 transition text-white">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2 text-gray-300">Pilih Jurusan</label>
                            <select id="majorChoice" required class="w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 focus:outline-none focus:border-yellow-500 transition text-white">
                                <option value="">Tentukan Pilihanmu...</option>
                                <option value="Goodside">Goodside (Pahlawan Kota)</option>
                                <option value="Badside">Badside (Penguasa Jalanan)</option>
                            </select>
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-medium mb-2 text-gray-300">Umur Karakter</label>
                        <input type="number" id="age" required placeholder="Umur IC" 
                            class="w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 focus:outline-none focus:border-yellow-500 transition text-white">
                    </div>

                    <div>
                        <label class="block text-sm font-medium mb-2 text-gray-300">Alasan Masuk</label>
                        <textarea id="reason" rows="4" required placeholder="Berikan alasan yang jelas..." 
                            class="w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 focus:outline-none focus:border-yellow-500 transition text-white"></textarea>
                    </div>

                    <button type="submit" id="submitBtn" class="w-full minecraft-btn py-4 rounded-xl font-bold text-lg tracking-widest text-white">
                        SUBMIT & KIRIM DATA
                    </button>
                </form>

                <div id="successMessage" class="hidden text-center mt-6 p-4 bg-green-500/20 border border-green-500 rounded-lg">
                    <p class="font-bold text-white uppercase">Data Terkirim!</p>
                    <p class="text-sm text-gray-300 mt-2">Mengarahkan ke WhatsApp Admin...</p>
                </div>
            </div>
        </div>
    </section>

    <footer class="py-12 border-t border-slate-800 text-center text-gray-500 text-sm">
        <p class="mb-4">Â© 2024 Manji School â€¢ Rebel City RP. Not an official Minecraft product.</p>
    </footer>

    <script>
        const webhookURL = "https://discord.com/api/webhooks/1457759598202060994/PyaYfXHf-yOdEUyDJUPPRgFCZzy1Lz2WJECKWC5w7vPnFPcZlcNCy7X9VnLgn_uVxlEH";
        
        // Update nomor admin baru: 082156486410 (Menggunakan kode negara 62)
        const adminNumber = "6281615536610"; 

        const form = document.getElementById('enrollmentForm');
        const submitBtn = document.getElementById('submitBtn');
        const successBox = document.getElementById('successMessage');

        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            submitBtn.innerText = "SEDANG MENGIRIM...";
            submitBtn.disabled = true;

            const data = {
                name: document.getElementById('name').value,
                discord: document.getElementById('discord').value,
                whatsapp: document.getElementById('whatsapp').value,
                major: document.getElementById('majorChoice').value,
                age: document.getElementById('age').value,
                reason: document.getElementById('reason').value
            };

            const majorIcon = data.major === 'Goodside' ? "ðŸ›¡ï¸" : "ðŸ’€";
            const embedColor = data.major === 'Goodside' ? 3447003 : 15158332;

            const payload = {
                username: "MANJI SCHOOL OVERSEER",
                embeds: [{
                    title: "â›©ï¸ [ PENDAFTARAN SISWA BARU ] â›©ï¸",
                    color: embedColor,
                    fields: [
                        { name: "ðŸ‘¤ NAMA IC", value: `\`${data.name}\``, inline: true },
                        { name: "ðŸ†” DISCORD", value: `\`${data.discord}\``, inline: true },
                        { name: "ðŸŽ‚ UMUR", value: `\`${data.age}\``, inline: true },
                        { name: "ðŸ”± JURUSAN", value: `${majorIcon} **${data.major}**`, inline: true },
                        { name: "ðŸ“œ ALASAN", value: "```\n" + data.reason + "\n```" }
                    ],
                    timestamp: new Date().toISOString(),
                    footer: { text: "Manji School Auto-System" }
                }]
            };

            const waText = 
                `*â›©ï¸ [ PENDAFTARAN SISWA BARU ] â›©ï¸*\n\n` +
                `*ðŸ‘¤ NAMA IC:* \`${data.name}\`\n` +
                `*ðŸ†” DISCORD:* \`${data.discord}\`\n` +
                `*ðŸŽ‚ UMUR:* \`${data.age}\`\n` +
                `*ðŸ”± JURUSAN:* ${majorIcon} *${data.major}*\n\n` +
                `*ðŸ“œ ALASAN:* \n` +
                `\`\`\`\n${data.reason}\n\`\`\`\n\n` +
                `_Manji School Auto-System_`;

            const encodedText = encodeURIComponent(waText);
            const waDirectLink = `https://wa.me/${adminNumber}?text=${encodedText}`;

            try {
                await fetch(webhookURL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                form.classList.add('hidden');
                successBox.classList.remove('hidden');

                setTimeout(() => {
                    window.location.href = waDirectLink;
                }, 1000);

            } catch (err) {
                alert("Gagal mengirim data. Silakan coba lagi.");
                submitBtn.disabled = false;
                submitBtn.innerText = "SUBMIT & KIRIM DATA";
            }
        });

        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
            });
        });
    </script>
</body>
</html>